---
title: v1.7.2.0 版本更新
tags: [更新笔记, 1.7.2.0]
---

## 本体修改

## 删除模块

## 新增模块

### 更大的输入法界面 [界面优化]

使游戏内输入法候选词界面支持自定义缩放, 并使其界面文本显示更加清晰

![LargerIME](/assets/Changelog/1.7.2.0/LargerIME.png)

![LargerIME-UI](/assets/Changelog/1.7.2.0/LargerIME-UI.png)

### 自动高清化界面文本 [界面优化]

自动处理部分界面内模糊不清的文本, 高清化其渲染效果, 使文本更加清晰且易于阅读

![AutoSharpenInterfaceText](/assets/Changelog/1.7.2.0/AutoSharpenInterfaceText.png)

<!-- 图片左右对比组件 HTML -->
<div class="img-comp-container">
  <!-- 修改点 开始 -->
  <div class="img-comp-img">
    <img src="/assets/Changelog/1.7.2.0/AutoSharpenInterfaceText-Before.png" alt="Before">
  </div>
  <div class="img-comp-img img-comp-overlay">
    <img src="/assets/Changelog/1.7.2.0/AutoSharpenInterfaceText-After.png" alt="After">
  </div>
  <!-- 修改点 结束 -->
</div>

<!-- CSS 样式 -->
<style>
/* 确保代码块在页面上正常显示 */
.img-comp-container {
  position: relative;
  width: 100%; /* 或者设置为你想要的固定宽度，例如 600px */
  max-width: 800px; /* 建议设置最大宽度 */
  margin: 20px auto; /* 居中显示 */
  border-radius: 8px;
  overflow: hidden;
}

.img-comp-img {
  position: absolute;
  width: auto;
  height: auto;
  overflow: hidden;
}

.img-comp-img img {
  display: block;
  vertical-align: middle;
  width: 100%;
}

.img-comp-overlay {
  width: 50%; /* 初始分割线位置 */
  border-right: 3px solid white;
  box-sizing: content-box; /* 边框不计入宽度 */
}

.img-comp-slider {
  position: absolute;
  z-index: 9;
  cursor: ew-resize;
  width: 40px;
  height: 40px;
  background-color: white;
  opacity: 0.7;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 5px;
  box-sizing: border-box;
  box-shadow: 0 0 10px rgba(0,0,0,0.5);
}

.img-comp-slider:before,
.img-comp-slider:after {
  content: "◀";
  color: #333;
  font-weight: bold;
}

.img-comp-slider:after {
  content: "▶";
}
</style>

<!-- JavaScript 逻辑 -->
<script>
function initImageCompare() {
  let x, i;
  /* 找到所有 class="img-comp-container" 的元素 */
  const containers = document.getElementsByClassName("img-comp-container");
  for (i = 0; i < containers.length; i++) {
    /* 对每个容器执行一次比较函数 */
    compareImages(containers[i]);
  }

  function compareImages(container) {
    let clicked = 0;
    let w, h;
    const overlay = container.getElementsByClassName("img-comp-overlay")[0];
    const img = overlay.getElementsByTagName("img")[0];

    /* 获取图片的宽高 */
    w = img.offsetWidth;
    h = img.offsetHeight;
    /* 设置叠加层的宽高与图片一致 */
    overlay.style.width = (w / 2) + "px";
    
    /* 创建滑块 */
    const slider = document.createElement("DIV");
    slider.setAttribute("class", "img-comp-slider");
    /* 将滑块插入叠加层之后，图片容器之内 */
    overlay.parentElement.insertBefore(slider, overlay.nextSibling);
    
    /* 定位滑块到中间 */
    slider.style.top = (h / 2) - (slider.offsetHeight / 2) + "px";
    slider.style.left = (w / 2) - (slider.offsetWidth / 2) + "px";
    
    /* 为滑块添加鼠标按下和触摸开始事件 */
    slider.addEventListener("mousedown", slideReady);
    slider.addEventListener("touchstart", slideReady, { passive: false });
    
    /* 为整个窗口添加鼠标松开和触摸结束事件 */
    window.addEventListener("mouseup", slideFinish);
    window.addEventListener("touchend", slideFinish);

    function slideReady(e) {
      e.preventDefault();
      clicked = 1;
      /* 当滑块被点击时，监听鼠标移动和触摸移动事件 */
      window.addEventListener("mousemove", slideMove);
      window.addEventListener("touchmove", slideMove, { passive: false });
    }

    function slideFinish() {
      clicked = 0;
      /* 停止监听移动事件 */
      window.removeEventListener("mousemove", slideMove);
      window.removeEventListener("touchmove", slideMove);
    }

    function slideMove(e) {
      let pos;
      if (clicked === 0) return false;
      /* 获取鼠标/触摸点的 x 坐标 */
      pos = getCursorPos(e);
      /* 防止滑块超出图片范围 */
      if (pos < 0) pos = 0;
      if (pos > w) pos = w;
      /* 根据鼠标位置调整叠加层宽度和滑块位置 */
      slide(pos);
    }

    function getCursorPos(e) {
      let a, x = 0;
      e = (e.changedTouches) ? e.changedTouches[0] : e;
      /* 获取图片的 x 坐标 */
      a = container.getBoundingClientRect();
      /* 计算鼠标相对于图片容器的 x 坐标 */
      x = e.pageX - a.left;
      /* 考虑页面的滚动 */
      x = x - window.pageXOffset;
      return x;
    }

    function slide(x) {
      /* 调整叠加图片的宽度 */
      overlay.style.width = x + "px";
      /* 调整滑块的位置 */
      slider.style.left = x - (slider.offsetWidth / 2) + "px";
    }
  }
}

/* 在页面加载完成后执行初始化函数 */
/* 使用 setTimeout 确保在所有图片加载和渲染完成后再计算尺寸 */
window.addEventListener('load', function() {
    setTimeout(initImageCompare, 100);
});
</script>

### 更大的高清输入法界面  [界面优化]

- 功能拆分为两个新模块 `自动高清化界面文本` 和 `更大的输入法界面`

## 模块修改

### 自动加入新人频道 [一般]

- 重写了模块代码

### 更远的技能施法距离 [技能]

- 重写了模块代码

### 自定义招募板单页显示数量 [界面优化]

- 重写了模块代码

### 自动完成仙人仙彩 [金碟]

- 重写了模块代码

### 自动面向摄像机方向 [系统]

- 重写了模块代码

### 永续通信切断状态 [系统]

- 重写了模块代码